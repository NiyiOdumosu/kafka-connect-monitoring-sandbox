# Connectors
## Kafka Connect cluster
connect:
  image: confluentinc/cp-kafka-connect:${CP_VERSION}
  ports:
    - 8083:8083
    - 5083:5083
  environment:
    CONNECT_BOOTSTRAP_SERVERS: $CCLOUD_BOOTSTRAP_SERVERS
    CONNECT_GROUP_ID: "connect"
    CONNECT_CONFIG_STORAGE_TOPIC: demo-connect-configs
    CONNECT_OFFSET_STORAGE_TOPIC: demo-connect-offsets
    CONNECT_STATUS_STORAGE_TOPIC: demo-connect-status
    CONNECT_REPLICATION_FACTOR: 3
    CONNECT_CONFIG_STORAGE_REPLICATION_FACTOR: 3
    CONNECT_STATUS_STORAGE_REPLICATION_FACTOR: 3
    CONNECT_OFFSET_STORAGE_REPLICATION_FACTOR: 3
    CONNECT_OFFSET_STORAGE_PARTITIONS: 3

    CONNECT_SECURITY_PROTOCOL: SASL_SSL
    CONNECT_SASL_JAAS_CONFIG: "org.apache.kafka.common.security.plain.PlainLoginModule   required username=\"$CCLOUD_API_KEY\"   password=\"$CCLOUD_API_SECRET\";"
    CONNECT_SASL_MECHANISM: PLAIN
    CONNECT_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM: "HTTPS"

    CONNECT_REST_ADVERTISED_HOST_NAME: localhost
    CONNECT_REST_PORT: 8083
    CONNECT_OFFSET_FLUSH_INTERVAL_MS: 10000
    CONNECT_KEY_CONVERTER: org.apache.kafka.connect.storage.StringConverter
    CONNECT_VALUE_CONVERTER: org.apache.kafka.connect.storage.StringConverter
    CONNECT_VALUE_CONVERTER_SCHEMAS_ENABLE: "false"
    CONNECT_VALUE_CONVERTER_SCHEMA_REGISTRY_URL: $CCLOUD_SR_URL
    CONNECT_VALUE_CONVERTER_BASIC_AUTH_CREDENTIALS_SOURCE: USER_INFO
    CONNECT_VALUE_CONVERTER_SCHEMA_REGISTRY_BASIC_AUTH_USER_INFO: "$CCLOUD_SR_API_KEY:$CCLOUD_SR_API_SECRET"
    CONNECT_PLUGIN_PATH: /usr/share/java